(this.webpackJsonptodo_app=this.webpackJsonptodo_app||[]).push([[1],{11:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}));var a="http://localhost:8000/api",r={position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0},o=/^[A-Za-z]{1,}[A-Za-z0-9]{0,}[.]{0,1}[A-Za-z0-9]{1,}[.]{0,1}[A-Za-z0-9]{1,}@[A-Za-z]{2,}[.]{1}[A-za-z]{2,3}[.]{0,1}[a-z]{0,2}$/},25:function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return S}));var a=n(29),r=n.n(a),o=n(40),c=n(31),u=n(34),s=n(0),i=n.n(s),l=n(21),d=n.n(l),p=n(11),f=n(8);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=JSON.parse(localStorage.getItem("todo_user")),y={authLoader:!1,isLoggedIn:null!==b,user:null!==b?b:null},O="AUTH_START",h="AUTH_END",j="AUTH_SUCESS",v="AUTH_FAIL",E="LOGOUT_USER",w=function(e,t){var n=t.type,a=t.payload;switch(n){case O:return g({},e,{authLoader:!0});case h:return g({},e,{authLoader:!1});case j:return g({},e,{user:a,authLoader:!1,isLoggedIn:!0});case v:case E:return g({},e,{user:null,authLoader:!1,isLoggedIn:!1});default:return e}},k=Object(s.createContext)(),S=function(e){var t=e.children,n=Object(s.useReducer)(w,y),a=Object(c.a)(n,2),u=a[0],l=a[1],m=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l({type:O}),e.abrupt("return",d.a.post("".concat(p.b,"/user/signup"),t).then((function(e){var t=e.data.message;return Object(f.c)(t),l({type:h}),t})).catch((function(e){return l({type:v}),Object(f.a)(e.response?e.response.data.message:"Something went wrong! please try again."),!1})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l({type:O}),e.abrupt("return",d.a.post("".concat(p.b,"/user/loging"),t).then((function(e){var t=e.data.data;Object(f.c)("Logged in sucessfully");var n={_id:t.user_id,name:t.name,email:t.email,token:t.token};return localStorage.setItem("todo_user",JSON.stringify(n)),l({type:j,payload:n}),!0})).catch((function(e){return l({type:v}),Object(f.a)(e.response?e.response.data.message:"Something went wrong! please try again."),!1})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement(k.Provider,{value:g({},u,{registerUser:m,loginUser:b,logoutUser:function(){localStorage.setItem("todo_user",null),l({type:E}),Object(f.c)("Logged out sucessfully")}})},t)}},46:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return j}));var a=n(27),r=n(31),o=n(34),c=n(0),u=n.n(c),s=n(21),i=n.n(s),l=n(11),d=n(8);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m={todoLoader:!1,todoList:[]},g="TODO_START",b="TODO_SUCESS",y="TODO_FAIL",O=function(e,t){var n=t.type,a=t.payload;switch(n){case g:return f({},e,{todoLoader:!0});case b:return f({},e,{todoList:a,todoLoader:!1});case y:return f({},e,{todoLoader:!1});default:return e}},h=Object(c.createContext)(),j=function(e){var t=e.children,n=Object(c.useReducer)(O,m),o=Object(r.a)(n,2),s=o[0],p=o[1];return u.a.createElement(h.Provider,{value:f({},s,{getTodosList:function(e,t){return p({type:g}),i.a.get("".concat(l.b,"/task/").concat(e),{headers:{"x-auth-token":"".concat(t)}}).then((function(e){p({type:b,payload:e.data.task?e.data.task:[]})})).catch((function(e){e&&e.response&&e.response.status&&404===e.response.status?Object(d.b)(e.response.data.message):Object(d.a)("Something went wrong! please try again."),p({type:y})}))},addTodoInList:function(e,t,n){return p({type:g}),i.a.post("".concat(l.b,"/task/").concat(t),n,{headers:{"x-auth-token":"".concat(e)}}).then((function(e){var t=Object(a.a)(s.todoList);return t.push(e.data.task),Object(d.b)('"'.concat(e.data.task.taskName,'" added successfully')),p({type:b,payload:t}),!0})).catch((function(e){return Object(d.a)("Something went wrong! please try again."),p({type:y}),!1}))},editTodoInList:function(e,t,n,r){return p({type:g}),i.a.put("".concat(l.b,"/task/").concat(e,"/").concat(t),r,{headers:{"x-auth-token":"".concat(n)}}).then((function(e){var n=Object(a.a)(s.todoList),r=n.findIndex((function(e){return e._id===t}));return Object(d.b)('"'.concat(e.data.task.taskName,'" updated successfully')),n[r]=e.data.task,p({type:b,payload:n}),!0})).catch((function(e){return Object(d.a)("Something went wrong! please try again."),p({type:y}),!1}))},deleteCurrentTodo:function(e,t,n,r){if(window.confirm('Are you sure you want to remove "'.concat(n,'"')))return i.a.delete("".concat(l.b,"/task/").concat(e,"/").concat(t),{headers:{"x-auth-token":"".concat(r)}}).then((function(e){var n=Object(a.a)(s.todoList),r=n.findIndex((function(e){return e._id===t}));return Object(d.b)('"'.concat(n[r].taskName,'" deleted successfully')),n.splice(r,1),p({type:b,payload:n}),!0})).catch((function(e){return Object(d.a)("Something went wrong! please try again."),p({type:y}),!1}))},clearData:function(){p({type:b,payload:[]})},getTodoListForGuest:function(){var e=JSON.parse(localStorage.getItem("todo_guest_list"));p({type:b,payload:null===e?[]:e})},addTodoForGuest:function(e){Object(d.b)('"'.concat(e.taskName,'" added successfully'));var t=JSON.parse(localStorage.getItem("todo_guest_list")),n=null===t?[]:t;n.push(e),localStorage.setItem("todo_guest_list",JSON.stringify(n)),p({type:b,payload:n})},editTodoForGuest:function(e,t){var n=Object(a.a)(s.todoList);n[e]=t,Object(d.b)('"'.concat(t.taskName,'" updated successfully')),localStorage.setItem("todo_guest_list",JSON.stringify(n)),p({type:b,payload:n})},deleteTodoForGuest:function(e){var t=Object(a.a)(s.todoList);window.confirm('Are you sure you want to remove "'.concat(t[e].taskName,'"'))&&(Object(d.b)('"'.concat(t[e].taskName,'" deleted successfully')),t.splice(e,1),localStorage.setItem("todo_guest_list",JSON.stringify(t)),p({type:b,payload:t}))}})},t)}},63:function(e,t,n){e.exports=n.p+"static/media/404.8f8cdd4b.svg"},67:function(e,t,n){e.exports=n(96)},72:function(e,t,n){},8:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var a=n(22),r=n(11),o=function(e){a.b.success(e,r.c)},c=function(e){a.b.info(e,r.c)},u=function(e){a.b.error(e,r.c)}},96:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(16),c=n.n(o),u=(n(72),n(19)),s=n(20),i=n(25),l=n(121),d=n(126),p=n(127),f=n(129),m=n(125),g=n(128),b=function(){var e=Object(a.useContext)(i.a),t=e.user,n=e.isLoggedIn;return r.a.createElement(l.a,{position:"static"},r.a.createElement(m.a,{maxWidth:"lg"},r.a.createElement(d.a,null,r.a.createElement(p.a,{className:"flex-1",variant:"h6"},r.a.createElement(u.b,{className:"decoration-none",to:"/"},"Todo App")),n?r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{color:"primary"},t.email.charAt(0).toUpperCase()),r.a.createElement(f.a,{color:"inherit",to:"/sign-out",component:u.c,className:"capitalize"},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{color:"inherit",component:u.c,to:"/sign-in",className:"capitalize"},"Sign in"),r.a.createElement(f.a,{color:"inherit",component:u.c,to:"/sign-up",className:"capitalize"},"Sign up")))))},y=n(47),O=function(e){var t=e.component,n=(e.token,Object(y.a)(e,["component","token"])),o=Object(a.useContext)(i.a).isLoggedIn;return r.a.createElement(s.b,Object.assign({},n,{render:function(e){return o?r.a.createElement(s.a,{to:"/"}):r.a.createElement(t,e)}}))},h=n(63),j=n.n(h),v=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,411))})),E=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,416))})),w=Object(a.lazy)((function(){return n.e(8).then(n.bind(null,417))})),k=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(4),n.e(7)]).then(n.bind(null,420))})),S=function(e){return r.a.createElement("div",{className:"full-page-center "},r.a.createElement("div",{className:"ripple-loader"},r.a.createElement("div",null),r.a.createElement("div",null)))},L=function(e){return r.a.createElement("div",{className:"not-found-page",style:{backgroundImage:"url(".concat(j.a,")")}},r.a.createElement("h1",null,"Page not found"))},_=function(){return r.a.createElement(u.a,null,r.a.createElement(b,null),r.a.createElement(a.Suspense,{fallback:r.a.createElement(S,null)},r.a.createElement(s.d,null,r.a.createElement(O,{path:"/sign-up",component:E,exact:!0}),r.a.createElement(O,{path:"/sign-in",component:v,exact:!0}),r.a.createElement(s.b,{path:"/sign-out",component:w,exact:!0}),r.a.createElement(s.b,{path:"/",component:k,exact:!0}),r.a.createElement(s.b,{component:L}))))},N=n(22),P=(n(95),n(64)),I=n(130),T=n(38),x=n.n(T),A=n(39),z=n.n(A),D=function(){var e=Object(P.a)({palette:{primary:{light:x.a[300],main:x.a[500],dark:x.a[700]},secondary:{light:z.a[300],main:z.a[500],dark:z.a[700]},type:"light"}});return r.a.createElement(I.a,{theme:e},r.a.createElement(_,null),r.a.createElement(N.a,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=n(46);c.a.render(r.a.createElement(i.b,null,r.a.createElement(U.b,null,r.a.createElement(D,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[67,2,3]]]);
//# sourceMappingURL=main.c5d9782f.chunk.js.map